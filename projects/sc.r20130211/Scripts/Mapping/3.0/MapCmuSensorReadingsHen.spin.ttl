# baseURI: http://www.cmusv.edu/SmartCommunity/Mapping/3.0/MapCmuSensorReadingsHen
# imports: http://spinrdf.org/spin
# imports: http://topbraid.org/spin/spinmapl
# imports: http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CMUExtension
# imports: http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CoreSCModel
# imports: http://www.cmusv.edu/SmartCommunity/Scripts/Output/JsonOntology
# imports: http://www.cmusv.edu/SmartCommunity/Scripts/Output/RdfOutput

@prefix arg:     <http://spinrdf.org/arg#> .
@prefix cmumap:  <http://www.cmusv.edu/SmartCommunity/Mapping/3.0/MapCmuSensorReadingsHen#> .
@prefix owl:     <http://www.w3.org/2002/07/owl#> .
@prefix owlrl:   <http://topbraid.org/spin/owlrl#> .
@prefix rdf:     <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:    <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sp:      <http://spinrdf.org/sp#> .
@prefix spin:    <http://spinrdf.org/spin#> .
@prefix spinmap:  <http://spinrdf.org/spinmap#> .
@prefix spinmapl:  <http://topbraid.org/spin/spinmapl#> .
@prefix spl:     <http://spinrdf.org/spl#> .
@prefix xsd:     <http://www.w3.org/2001/XMLSchema#> .

arg:context
      rdf:type rdf:Property ;
      rdfs:label "context"^^xsd:string ;
      rdfs:subPropertyOf sp:arg .

arg:targetProperty
      rdf:type rdf:Property ;
      rdfs:label "target property"^^xsd:string ;
      rdfs:subPropertyOf sp:arg .

<http://topbraid.org/json#Device>
      spin:rule
              [ rdf:type cmumap:MapListMembers ;
                arg:context cmumap:Device-Device ;
                arg:property <http://topbraid.org/json#sensors> ;
                arg:targetProperty <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CoreSCModel#hasSensor>
              ] ;
      spinmap:rule
              [ rdf:type spinmap:Mapping-1-1 ;
                spinmap:context cmumap:Device-Device ;
                spinmap:expression
                        [ rdf:type cmumap:targetResource ;
                          sp:arg1 spin:_arg1 ;
                          spinmap:context cmumap:Device_Agent-DeviceAgent
                        ] ;
                spinmap:sourcePredicate1
                        <http://topbraid.org/json#device_agent> ;
                spinmap:targetPredicate1
                        <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CMUExtension#hasAgent>
              ] ;
      spinmap:rule
              [ rdf:type spinmap:Mapping-1-1 ;
                spinmap:context cmumap:Device-Device ;
                spinmap:expression spin:_arg1 ;
                spinmap:sourcePredicate1
                        rdfs:label ;
                spinmap:targetPredicate1
                        rdfs:label
              ] ;
      spinmap:rule
              [ rdf:type spinmap:Mapping-1-1 ;
                spinmap:context cmumap:Device-Device ;
                spinmap:expression spin:_arg1 ;
                spinmap:sourcePredicate1
                        <http://topbraid.org/json#uri> ;
                spinmap:targetPredicate1
                        <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CMUExtension#uri>
              ] ;
      spinmap:rule
              [ rdf:type spinmap:Mapping-1-1 ;
                spinmap:context cmumap:Device-Device ;
                spinmap:expression spin:_arg1 ;
                spinmap:sourcePredicate1
                        <http://topbraid.org/json#location> ;
                spinmap:targetPredicate1
                        <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CoreSCModel#locatedAt>
              ] ;
      spinmap:rule
              [ rdf:type spinmap:Mapping-1-1 ;
                spinmap:context cmumap:Device-Device ;
                spinmap:expression spin:_arg1 ;
                spinmap:sourcePredicate1
                        <http://topbraid.org/json#guid> ;
                spinmap:targetPredicate1
                        <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CoreSCModel#guid>
              ] ;
      spinmap:rule
              [ rdf:type spinmap:Mapping-0-1 ;
                spinmap:context cmumap:Device-Device ;
                spinmap:expression <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CMUExtension#Device> ;
                spinmap:targetPredicate1
                        rdf:type
              ] .

<http://topbraid.org/json#Device_Agent>
      spinmap:rule
              [ rdf:type spinmap:Mapping-1-1 ;
                spinmap:context cmumap:Device_Agent-DeviceAgent ;
                spinmap:expression spin:_arg1 ;
                spinmap:sourcePredicate1
                        <http://topbraid.org/json#uri> ;
                spinmap:targetPredicate1
                        <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CMUExtension#uri>
              ] ;
      spinmap:rule
              [ rdf:type spinmap:Mapping-1-1 ;
                spinmap:context cmumap:Device_Agent-DeviceAgent ;
                spinmap:expression spin:_arg1 ;
                spinmap:sourcePredicate1
                        <http://topbraid.org/json#updated_at> ;
                spinmap:targetPredicate1
                        <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CoreSCModel#updatedAt>
              ] ;
      spinmap:rule
              [ rdf:type spinmap:Mapping-1-1 ;
                spinmap:context cmumap:Device_Agent-DeviceAgent ;
                spinmap:expression spin:_arg1 ;
                spinmap:sourcePredicate1
                        <http://topbraid.org/json#print_name> ;
                spinmap:targetPredicate1
                        rdfs:label
              ] ;
      spinmap:rule
              [ rdf:type spinmap:Mapping-1-1 ;
                spinmap:context cmumap:Device_Agent-DeviceAgent ;
                spinmap:expression spin:_arg1 ;
                spinmap:sourcePredicate1
                        <http://topbraid.org/json#print_name> ;
                spinmap:targetPredicate1
                        <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CoreSCModel#hasLabel>
              ] ;
      spinmap:rule
              [ rdf:type spinmap:Mapping-1-1 ;
                spinmap:context cmumap:Device_Agent-DeviceAgent ;
                spinmap:expression spin:_arg1 ;
                spinmap:sourcePredicate1
                        <http://topbraid.org/json#network_address> ;
                spinmap:targetPredicate1
                        <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CMUExtension#hasNetworkAddress>
              ] ;
      spinmap:rule
              [ rdf:type spinmap:Mapping-1-1 ;
                spinmap:context cmumap:Device_Agent-DeviceAgent ;
                spinmap:expression spin:_arg1 ;
                spinmap:sourcePredicate1
                        <http://topbraid.org/json#metadata_json> ;
                spinmap:targetPredicate1
                        <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CMUExtension#metadataJson>
              ] ;
      spinmap:rule
              [ rdf:type spinmap:Mapping-1-1 ;
                spinmap:context cmumap:Device_Agent-DeviceAgent ;
                spinmap:expression spin:_arg1 ;
                spinmap:sourcePredicate1
                        <http://topbraid.org/json#guid> ;
                spinmap:targetPredicate1
                        <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CoreSCModel#hasGUID>
              ] ;
      spinmap:rule
              [ rdf:type spinmap:Mapping-1-1 ;
                spinmap:context cmumap:Device_Agent-DeviceAgent ;
                spinmap:expression spin:_arg1 ;
                spinmap:sourcePredicate1
                        <http://topbraid.org/json#created_at> ;
                spinmap:targetPredicate1
                        <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CoreSCModel#createdAt>
              ] ;
      spinmap:rule
              [ rdf:type spinmap:Mapping-0-1 ;
                spinmap:context cmumap:Device_Agent-DeviceAgent ;
                spinmap:expression <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CMUExtension#DeviceAgent> ;
                spinmap:targetPredicate1
                        rdf:type
              ] .

<http://topbraid.org/json#SensorReading>
      spinmap:rule
              [ rdf:type spinmap:Mapping-3-1 ;
                spinmap:context cmumap:SensorReading-Accelerometer ;
                spinmap:expression
                        [ rdf:type spinmapl:buildURI3 ;
                          sp:arg1 spin:_arg1 ;
                          sp:arg2 spin:_arg1 ;
                          sp:arg3 spin:_arg2 ;
                          spinmap:source spin:_arg3 ;
                          spinmapl:template "sc:Event{?1}-{?2}"^^xsd:string
                        ] ;
                spinmap:sourcePredicate2
                        <http://topbraid.org/json#id> ;
                spinmap:sourcePredicate3
                        <http://topbraid.org/json#timestamp> ;
                spinmap:targetPredicate1
                        <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CoreSCModel#isAssociatedWith>
              ] ;
      spinmap:rule
              [ rdf:type spinmap:Mapping-3-1 ;
                spinmap:context cmumap:SensorReading-Accelerometer ;
                spinmap:expression
                        [ rdf:type spinmapl:buildURI2 ;
                          sp:arg1 spin:_arg1 ;
                          sp:arg2 spin:_arg2 ;
                          spinmap:source spin:_arg3 ;
                          spinmapl:template "sc:Event{?1}-{?2}"^^xsd:string
                        ] ;
                spinmap:sourcePredicate1
                        <http://topbraid.org/json#id> ;
                spinmap:sourcePredicate2
                        <http://topbraid.org/json#timestamp> ;
                spinmap:sourcePredicate3
                        rdfs:label ;
                spinmap:targetPredicate1
                        <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CoreSCModel#isAssociatedWith>
              ] ;
      spinmap:rule
              [ rdf:type spinmap:Mapping-1-1 ;
                spinmap:context cmumap:SensorReading-QuantityValue ;
                spinmap:expression spin:_arg1 ;
                spinmap:sourcePredicate1
                        <http://topbraid.org/json#humidity> ;
                spinmap:targetPredicate1
                        <http://qudt.org/schema/qudt#numericValue>
              ] ;
      spinmap:rule
              [ rdf:type spinmap:Mapping-1-1 ;
                spinmap:context cmumap:SensorReading-HumiditySensor ;
                spinmap:expression
                        [ rdf:type spinmapl:constantResource ;
                          sp:arg1 spin:_arg1 ;
                          spinmapl:result <http://qudt.org/vocab/quantity#AbsoluteHumidity>
                        ] ;
                spinmap:sourcePredicate1
                        <http://topbraid.org/json#humidity> ;
                spinmap:targetPredicate1
                        <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CoreSCModel#measuresQuantityKind>
              ] ;
      spinmap:rule
              [ rdf:type spinmap:Mapping-1-1 ;
                spinmap:context cmumap:SensorReading-HumiditySensor ;
                spinmap:expression spin:_arg1 ;
                spinmap:sourcePredicate1
                        <http://topbraid.org/json#humidity> ;
                spinmap:targetPredicate1
                        <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CoreSCModel#measuresValue>
              ] ;
      spinmap:rule
              [ rdf:type spinmap:Mapping-1-1 ;
                spinmap:context cmumap:SensorReading-Event ;
                spinmap:expression spin:_arg1 ;
                spinmap:sourcePredicate1
                        <http://topbraid.org/json#timestamp> ;
                spinmap:targetPredicate1
                        <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CoreSCModel#hasTimeStamp>
              ] ;
      spinmap:rule
              [ rdf:type spinmap:Mapping-1-1 ;
                spinmap:context cmumap:SensorReading-Accelerometer ;
                spinmap:expression
                        [ rdf:type spinmapl:constantResource ;
                          sp:arg1 spin:_arg1 ;
                          spinmapl:result <http://qudt.org/vocab/quantity#LinearAcceleration>
                        ] ;
                spinmap:sourcePredicate1
                        <http://topbraid.org/json#acc_x> ;
                spinmap:targetPredicate1
                        <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CoreSCModel#measuresQuantityKind>
              ] ;
      spinmap:rule
              [ rdf:type spinmap:Mapping-1-1 ;
                spinmap:context cmumap:SensorReading-Accelerometer ;
                spinmap:expression spin:_arg1 ;
                spinmap:sourcePredicate1
                        <http://topbraid.org/json#acc_x> ;
                spinmap:targetPredicate1
                        <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CoreSCModel#measuresValue>
              ] ;
      spinmap:rule
              [ rdf:type spinmap:Mapping-0-1 ;
                spinmap:context cmumap:SensorReading-QuantityValue ;
                spinmap:expression <http://qudt.org/schema/qudt#QuantityValue> ;
                spinmap:targetPredicate1
                        rdf:type
              ] .

owlrl:cls-int1_1
      rdf:type owlrl:cls-int1 .

owlrl:cls-int2_1
      rdf:type owlrl:cls-int2 .

<http://www.cmusv.edu/SmartCommunity/Mapping/3.0/MapCmuSensorReadingsHen>
      rdf:type owl:Ontology ;
      owl:imports <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CoreSCModel> , <http://www.cmusv.edu/SmartCommunity/Scripts/Output/RdfOutput> , <http://www.cmusv.edu/SmartCommunity/Scripts/Output/JsonOntology> , <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CMUExtension> , <http://topbraid.org/spin/spinmapl> , <http://spinrdf.org/spin> ;
      owl:versionInfo "Created with TopBraid Composer"^^xsd:string .

cmumap:Device-Device
      rdf:type spinmap:Context ;
      spinmap:sourceClass <http://topbraid.org/json#Device> ;
      spinmap:target
              [ rdf:type spinmapl:buildURI1 ;
                sp:arg1 <http://topbraid.org/json#guid> ;
                spinmap:source spinmap:_source ;
                spinmapl:template "cmusc:Device-{?1}"^^xsd:string
              ] ;
      spinmap:targetClass <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CMUExtension#Device> .

cmumap:Device_Agent-DeviceAgent
      rdf:type spinmap:Context ;
      spinmap:sourceClass <http://topbraid.org/json#Device_Agent> ;
      spinmap:target
              [ rdf:type spinmapl:buildURI1 ;
                sp:arg1 <http://topbraid.org/json#guid> ;
                spinmap:source spinmap:_source ;
                spinmapl:template "cmusc:DeviceAgent-{?1}"^^xsd:string
              ] ;
      spinmap:targetClass <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CMUExtension#DeviceAgent> .

cmumap:MapListMembers
      rdf:type spin:Template ;
      rdfs:label "Map list members"^^xsd:string ;
      rdfs:subClassOf spin:Templates ;
      spin:body
              [ rdf:type sp:Construct ;
                sp:templates ([ sp:object
                                    [ sp:varName "item"^^xsd:string
                                    ] ;
                            sp:predicate
                                    [ sp:varName "targetProperty"^^xsd:string
                                    ] ;
                            sp:subject
                                    [ sp:varName "uri"^^xsd:string
                                    ]
                          ]) ;
                sp:where ([ sp:object
                                    [ sp:varName "list"^^xsd:string
                                    ] ;
                            sp:predicate
                                    [ sp:varName "property"^^xsd:string
                                    ] ;
                            sp:subject spin:_this
                          ] [ rdf:type sp:TriplePath ;
                            sp:object
                                    [ sp:varName "item"^^xsd:string
                                    ] ;
                            sp:path [ rdf:type sp:SeqPath ;
                                      sp:path1
                                              [ rdf:type sp:ModPath ;
                                                sp:modMax -2 ;
                                                sp:modMin 0 ;
                                                sp:subPath rdf:rest
                                              ] ;
                                      sp:path2 rdf:first
                                    ] ;
                            sp:subject
                                    [ sp:varName "list"^^xsd:string
                                    ]
                          ] [ rdf:type sp:Bind ;
                            sp:expression
                                    [ rdf:type spinmap:targetResource ;
                                      sp:arg1 spin:_this ;
                                      spinmap:context
                                              [ sp:varName "context"^^xsd:string
                                              ]
                                    ] ;
                            sp:variable
                                    [ sp:varName "uri"^^xsd:string
                                    ]
                          ])
              ] ;
      spin:constraint
              [ rdf:type spl:Argument ;
                rdfs:comment "The target property, i.e. the property being mapped to."^^xsd:string ;
                spl:predicate arg:targetProperty ;
                spl:valueType rdf:Property
              ] ;
      spin:constraint
              [ rdf:type spl:Argument ;
                rdfs:comment "The property that contains an RDF list."^^xsd:string ;
                spl:predicate arg:property ;
                spl:valueType rdf:Property
              ] ;
      spin:constraint
              [ rdf:type spl:Argument ;
                rdfs:comment "An instsance of spinMapContext that represents the class for the target mappings."^^xsd:string ;
                spl:predicate arg:context ;
                spl:valueType spinmap:Context
              ] ;
      spin:labelTemplate "Get list members from {?property} and map to {?targetProperty} for {?context} mapping."^^xsd:string .

cmumap:SensorReading-Accelerometer
      rdf:type spinmap:Context ;
      spinmap:sourceClass <http://topbraid.org/json#SensorReading> ;
      spinmap:target
              [ rdf:type spinmapl:buildURI2 ;
                sp:arg1 <http://topbraid.org/json#id> ;
                sp:arg2 <http://topbraid.org/json#timestamp> ;
                spinmap:source spinmap:_source ;
                spinmapl:template "sc:AccelerometerXReading{?1}-{?2}"^^xsd:string
              ] .

cmumap:SensorReading-Event
      rdf:type spinmap:Context ;
      spinmap:sourceClass <http://topbraid.org/json#SensorReading> ;
      spinmap:target
              [ rdf:type spinmapl:buildURI2 ;
                sp:arg1 <http://topbraid.org/json#id> ;
                sp:arg2 <http://topbraid.org/json#timestamp> ;
                spinmap:source spinmap:_source ;
                spinmapl:template "sc:Event{?1}-{?2}"^^xsd:string
              ] .

cmumap:SensorReading-HumiditySensor
      rdf:type spinmap:Context ;
      spinmap:sourceClass <http://topbraid.org/json#SensorReading> ;
      spinmap:target
              [ rdf:type spinmapl:buildURI2 ;
                sp:arg1 <http://topbraid.org/json#id> ;
                sp:arg2 <http://topbraid.org/json#timestamp> ;
                spinmap:source spinmap:_source ;
                spinmapl:template "sc:HumidityReading{?1}-{?2}"^^xsd:string
              ] .

cmumap:SensorReading-QuantityValue
      rdf:type spinmap:Context ;
      spinmap:sourceClass <http://topbraid.org/json#SensorReading> ;
      spinmap:target
              [ rdf:type spinmapl:buildURI2 ;
                sp:arg1 <http://topbraid.org/json#id> ;
                sp:arg2 <http://topbraid.org/json#timestamp> ;
                spinmap:source spinmap:_source ;
                spinmapl:template "qudt:QuantityValue-{?1}-{?2}"^^xsd:string
              ] ;
      spinmap:targetClass <http://qudt.org/schema/qudt#QuantityValue> .

cmumap:targetResource
      rdf:type spin:Function ;
      rdfs:subClassOf spl:URIFunctions ;
      spin:body
              [ rdf:type sp:Select ;
                sp:resultVariables ([ sp:expression
                                    [ rdf:type spin:eval ;
                                      sp:arg1 [ sp:varName "targetExpr"^^xsd:string
                                              ] ;
                                      sp:arg2 spinmap:source ;
                                      sp:arg3 [ sp:varName "actualResource"^^xsd:string
                                              ]
                                    ] ;
                            sp:varName "result"^^xsd:string
                          ]) ;
                sp:where ([ rdf:type sp:Bind ;
                            sp:expression
                                    [ rdf:type spl:object ;
                                      sp:arg1 [ sp:varName "context"^^xsd:string
                                              ] ;
                                      sp:arg2 spinmap:target
                                    ] ;
                            sp:variable
                                    [ sp:varName "targetExpr"^^xsd:string
                                    ]
                          ] [ sp:object
                                    [ sp:varName "actualResource"^^xsd:string
                                    ] ;
                            sp:predicate rdf:first ;
                            sp:subject spin:_arg1
                          ])
              ] ;
      spin:constraint
              [ rdf:type spl:Argument ;
                spl:predicate spinmap:context ;
                spl:valueType spinmap:Context
              ] ;
      spin:constraint
              [ rdf:type spl:Argument ;
                spl:predicate sp:arg1 ;
                spl:valueType rdfs:Resource
              ] ;
      spin:returnType rdfs:Resource ;
      spinmap:suggestion-0-1
              [ rdf:type sp:Construct ;
                sp:templates ([ sp:object cmumap:targetResource ;
                            sp:predicate rdf:type ;
                            sp:subject _:b1
                          ] [ sp:object
                                    [ sp:varName "context"^^xsd:string
                                    ] ;
                            sp:predicate spinmap:context ;
                            sp:subject _:b1
                          ]) ;
                sp:where ([ sp:object
                                    [ sp:varName "range"^^xsd:string
                                    ] ;
                            sp:predicate rdfs:range ;
                            sp:subject
                                    [ sp:varName "targetPredicate1"^^xsd:string
                                    ]
                          ] [ sp:object
                                    [ sp:varName "sourceClass"^^xsd:string
                                    ] ;
                            sp:predicate spinmap:sourceClass ;
                            sp:subject
                                    [ sp:varName "context"^^xsd:string
                                    ]
                          ] [ sp:object
                                    [ sp:varName "range"^^xsd:string
                                    ] ;
                            sp:predicate spinmap:targetClass ;
                            sp:subject
                                    [ sp:varName "context"^^xsd:string
                                    ]
                          ] [ sp:object spinmap:Context ;
                            sp:predicate rdf:type ;
                            sp:subject
                                    [ sp:varName "context"^^xsd:string
                                    ]
                          ])
              ] ;
      spinmap:suggestion-1-1
              [ rdf:type sp:Construct ;
                sp:templates ([ sp:object cmumap:targetResource ;
                            sp:predicate rdf:type ;
                            sp:subject _:b2
                          ] [ sp:object
                                    [ sp:varName "context"^^xsd:string
                                    ] ;
                            sp:predicate spinmap:context ;
                            sp:subject _:b2
                          ]) ;
                sp:where ([ sp:object
                                    [ sp:varName "sourceRange"^^xsd:string
                                    ] ;
                            sp:predicate rdfs:range ;
                            sp:subject
                                    [ sp:varName "sourcePredicate1"^^xsd:string
                                    ]
                          ] [ sp:object
                                    [ sp:varName "targetRange"^^xsd:string
                                    ] ;
                            sp:predicate rdfs:range ;
                            sp:subject
                                    [ sp:varName "targetPredicate1"^^xsd:string
                                    ]
                          ] [ sp:object
                                    [ sp:varName "sourceRange"^^xsd:string
                                    ] ;
                            sp:predicate spinmap:sourceClass ;
                            sp:subject
                                    [ sp:varName "context"^^xsd:string
                                    ]
                          ] [ sp:object
                                    [ sp:varName "targetRange"^^xsd:string
                                    ] ;
                            sp:predicate spinmap:targetClass ;
                            sp:subject
                                    [ sp:varName "context"^^xsd:string
                                    ]
                          ] [ sp:object spinmap:Context ;
                            sp:predicate rdf:type ;
                            sp:subject
                                    [ sp:varName "context"^^xsd:string
                                    ]
                          ])
              ] .

[]    rdf:type spinmap:Mapping-1-1 ;
      spinmap:context cmumap:Device-Device ;
      spinmap:expression
              [ rdf:type sp:concat ;
                sp:arg1 "DeviceAgent-" ;
                sp:arg2 spin:_arg1
              ] ;
      spinmap:targetPredicate1
              <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CMUExtension#hasAgent> .

[]    rdf:type spinmap:Mapping-1-1 ;
      spinmap:context cmumap:Device-Device ;
      spinmap:expression
              [ rdf:type sp:concat ;
                sp:arg1 "DeviceAgent-" ;
                sp:arg2 spin:_arg1
              ] ;
      spinmap:targetPredicate1
              <http://www.cmusv.edu/SmartCommunity/CombinedModel/3.0/CMUExtension#hasAgent> .
